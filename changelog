xorg-server (2:1.1.99.903-1) experimental; urgency=low

  * New upstream release candidate.
  * Forward-port patches:
    * 07_xorgconf_manpage_overhaul.diff: refresh
    * 12_security_policy_in_etc.diff: refresh
    * 21_glx_align_fixes.patch: refresh
    * 23_kfreebsd_support.diff: refresh
    * 24_hurd_support.diff: refresh
    * 34_xorg.conf_man_typos.patch: refresh
    * 36_fix_ffs.patch: remove, applied upstream
  * Bump build-dependency on libdrm-dev to (>= 2.3.0) because that is the X
    server's minimum requirement.

 -- Thierry Reding <thierry@gilfi.de>  Sat,  2 Dec 2006 12:44:59 +0100

xorg-server (2:1.1.99.902-1) experimental; urgency=low

  * Update to latest upstream release candidate.
  * Forward-port patches:
    * 02_libvgahw_gcc4_volatile_fix.diff: update
    * 04_read_rom_in_chunks.diff: update
    * 05_arm_cache_flush.diff: remove, applied upstream
    * 06_arm_is_not_x86_and_has_no_vga.diff: remove, applied upstream
    * 07_xorgconf_manpage_overhaul.diff: update
    * 08_s390_servermd.diff: update
    * 09_debian_xserver_rtff.diff: update
    * 12_security_policy_in_etc.diff: update
    * 13_debian_add_xkbpath_env_variable.diff: update
    * 15_symlink_mesa.diff: remove, fixed upstream
    * 16_s390_fix.diff: update
    * 17_ignoreabi.diff: remove, applied upstream
    * 18_execinfo_only_for_backtrace.patch: remove, applied upstream
    * 18_execinfo_configured.patch: remove, applied upstream
    * 19_configurable_misc_utils.patch: remove, applied upstream
    * 20_mesa_6.5.1.diff: remove, applied upstream
    * 21_glx_align_fixes.patch: update
    * 22_xkb_cycle_3layouts.diff: remove, applied upstream
    * 23_kfreebsd_support.diff: update, partially applied upstream
    * 24_hurd_support.diff: update, partially applied upstream
    * 25_tfp_damage.diff: remove, applied upstream
    * 26_aiglx_happy_vt_switch.diff: remove, applied upstream
    * 27_aiglx_locking.diff: remove, applied upstream
    * 28_mesa_copy_sub_buffer.diff: remove, applied upstream
    * 29_mesa_reseed_makefile.diff: remove, fixed upstream
    * 30_fix_vmode_switch.diff: remove, fixed upstream
    * 31_blocksigio.diff: remove, fixed upstream
    * 32_disable_sparc_pci_bridge.diff: update
    * 34_xorg.conf_man_typos.patch: update
    * 35_randr_byteswap.patch: update
    * 36_fix_ffs.patch: update
    * 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms.diff:
      remove, applied upstream
  * Upstream no longer ships a changelog, so don't try to install it.
  * Add 37_build-mesa-mipmap.patch that adds the missing mipmap.c to libmain's
    sources.
  * Add 38_GetDrawableAttributes.patch which readds support for the
    GetDrawableAttributes extension that's needed for compiz to work properly.

 -- Thierry Reding <thierry@gilfi.de>  Fri,  1 Dec 2006 20:32:34 +0100

xorg-server (2:1.1.1-11) unstable; urgency=low

  [ Drew Parsons ]
  * Patches 33_Xserver_man_typos.patch and 34_xorg.conf_man_typos.patch
    fix minor typos in Xserver and xorg.conf man pages.
    Closes: #364556, #308899.
  * Add patch 35_randr_byteswap.patch from upstream. Fixes a client/server
    byteswapping problem. Closes: #291100.

  [ Julien Cristau ]
  * Don't build-depend on libdrm-dev on hurd-i386 (closes: #358015). Thanks,
    Samuel Thibault.
  * Update hurd support patch (closes: #356300). Thanks, Samuel Thibault.
  * Add reportbug script stolen from the monolith, to add the user's config
    and log file in every bug report.
  * Delete hw/xfree86/common/xf86Build.h from our source tree, so that the
    build date is correctly calculated at build time, and not hardcoded to
    07 July 2006.  Thanks to Jurij Smakov for noticing.
  * Add patch 36_fix_ffs.patch by Jurij Smakov to fix infinite loop in ffs()
    if called with an argument of 0 (closes: #395564).
  * Add patch 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms
    from upstream git to fix color issue on big endian platforms
    (closes: #392453). Thanks to Michel Dänzer for the patch!
  * Fix typo in xvfb-run (closes: #337703).
  * Install xdmxconfig and its manpage in xdmx-tools (closes: #393991).
  * Add Replaces: xdmx (<= 2:1.1.1-10) to xdmx-tools because of the xmdxconfig
    manpage move.

 -- David Nusinow <dnusinow@debian.org>  Fri, 24 Nov 2006 15:44:52 -0500

xorg-server (2:1.1.1-10) unstable; urgency=low

  [ Denis Barbier ]
  * Fix video mode switching.  Closes: #391052
  * Fix FTBFS on kfreebsd-i386 and kfreebsd-amd64.  Thanks Petr Salinger.
    Closes: #363517

  [ David Nusinow ]
  * Add depends on xserver-xorg so that /etc/X11/X gets installed. Thanks
    Frans Pop. Closes: #392295
  * Add 31_blocksigio.diff. This patch by Alan Hourihane, and it prevents a
    race condition when a driver tries to set the cursor state when the server
    is in the middle of switching resolution. Thanks to Frans Pop for
    reporting the bug, Michel Dänzer for reading through the backtrace and
    diagnosing the problem, and Alan for the final patch. Closes: #390646.

  [ Jurij Smakov ]
  * Add 32_disable_sparc_pci_bridge.diff. Disable PCI bridge handling on
    sparc, which is broken and causes filesystem corruption (by poking
    the PCI bus in the wrong places) on some machines. Closes: #392312.

  [ Drew Parsons ]
  * Use __appmansuffix__ not __mansuffix__ in
    03_xnest_manpage_overhaul.diff.  Closes: #390599.
  * Install upstream ChangeLog.  Closes: #365274.

 -- David Nusinow <dnusinow@debian.org>  Mon, 16 Oct 2006 21:59:51 -0400

xorg-server (2:1.1.1-9) unstable; urgency=low

  [ Jurij Smakov ]
  * Add 21_glx_align_fixes.patch to reintroduce the setting of __GLX_ALIGN64
    variable, lost during the modular transition. This setting is essential
    for architectures with strong alignment requirements. Patch affects
    alpha, sparc, amd64, ia64 and s390, mimicking the behaviour of the
    monolithic build. Closes: #388125.

  [ Denis Barbier ]
  * Add 22_xkb_cycle_3layouts.diff to fix layout switching when 3 layouts
    are present.  Thanks Ivan Pascal for the patch.  Closes: #345803

  [ David Nusinow ]
  * Add kFreeBSD support patch (23). Thanks to Robert Millan, Petr Salinger,
    Daniel Stone, and Michael Banck for input and patch writing.
    Closes: #363517
  * Add hurd support patch (24). Thanks Samuel Thibault, Daniel Stone, and
    Michael Banck. Closes: #356300
  * Disable the explicit enabling of dri in the configure. The configure
    script autodetects whether or not to use this anyway, and enabling it
    explicitly breaks the build on hurd. Thanks Samuel Thibault and Michael
    Banck. Closes: #358015
  * Add several patches written by Kristian Høgsberg for allowing compiz to
    work with AIGLX. These patches were vetted by Theirry Reding with valuable
    advice from Michel Dänzer, and feedback from Kristian himself.
    - 25_tfp_damage.diff
    - 26_aiglx_happy_vt_switch.diff
    - 27_aiglx_locking.diff
    - 28_mesa_copy_sub_buffer.diff
    - 29_mesa_reseed_makefile.diff
    - update of 20_mesa_6.5.1.diff
  * Remove bizarre wholesale inclusion of another patch in the 23_kbsd patch

  [ Eugene Konev ]
  * Use --with-default-font-path instead of --with-fontdir.
  * Set RGBPath through --with-rgb-path.
  * Drop 11_debian_always_use_default_font_path.diff.
  * Drop 14_debian_always_look_in_our_module_path.diff.
  * Ship SecurityPolicy in xserver-xorg-core.

 -- David Nusinow <dnusinow@debian.org>  Thu, 28 Sep 2006 23:59:35 -0400

xorg-server (2:1.1.1-8) unstable; urgency=low

  * Update mesa symlink patch to the latest from HEAD
  * Add 20_mesa_6.5.1.diff to allow the server to build with mesa 6.5.1
  * Bump build-dep versions on x11proto-gl to 1.4.8, and mesa to 6.5.1

 -- David Nusinow <dnusinow@debian.org>  Mon, 25 Sep 2006 22:21:37 -0400

xorg-server (2:1.1.1-7) unstable; urgency=low

  * Fix s390 build issue. Thanks Bastian Blank for the report and Eugene Konev
    for the patch. Closes: #388628.
  * Disable build of various utilities that we don't ship anyway. Patch thanks
    to Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 21 Sep 2006 23:07:16 -0400

xorg-server (2:1.1.1-6) unstable; urgency=low

  * Upload 7.1 to unstable.

  [ Drew Parsons ]
  * Added SGI FreeB licence to debian/copyright. Closes: #368563.
  * Apply upstream patches 18_execinfo_only_for_backtrace.patch, to use
    execinfo.h for and only for backtrace. Applied git patch
    5a3488ccac8e5dabd9fc98bc41ef178ead1b2faf directly into configure scripts,
    activated with autoreconf.  Closes: #363218.
  * Only requires build-depends version of x11proto-gl-dev on 1.4.6.

  [ Steve Langasek ]
  * Add versioned build-depends on x11proto-fixes-dev (>= 4.0), to
    ensure the package is built against the right protocol version.
    Closes: #383778.

 -- David Nusinow <dnusinow@debian.org>  Mon, 18 Sep 2006 18:30:07 -0400

xorg-server (2:1.1.1-5) experimental; urgency=low

  * Fix error in 16_s390_fix.diff caused by my idiot copying. Thanks Yannick
    Roehlly and Daniel Stone.

 -- David Nusinow <dnusinow@debian.org>  Sun, 27 Aug 2006 23:25:21 +0000

xorg-server (2:1.1.1-4) experimental; urgency=low

  [ Drew Parsons ]
  * Tighten dependencies between X11R7.1 server and video drivers.
    xserver-xorg-core no longer Depends: xserver-xorg-video-all
    | xserver-xorg-video but instead Conflicts: xserver-xorg-video.
    (closes: #383873)
    The dependency on xserver-xorg-video-all | xserver-xorg-video-1.0 is
    managed by the xserver-xorg binary package (not included here in
    order to avoid circular dependencies). (closes: #362313)
  * Likewise remove Depends: xserver-xorg-input-all | xserver-xorg-input
    (again, handled by xserver-xorg) to avoid circular dependency with drivers.

  [ David Nusinow ]
  * Epoch bump
  * Add 17_ignoreabi.diff to allow users to simply set a value in xorg.conf
    rather than pass -ignoreABI to the server every time it starts

 -- David Nusinow <dnusinow@debian.org>  Wed, 23 Aug 2006 22:03:06 +0000

xorg-server (1:1.1.1-3) unstable; urgency=low

  * Add 16_s390_fix.diff to fix FTBFS on s390. Thanks Bastian Blank.
    (closes: #362641)
  * Bump build-depends version of libgl1-mesa-dev to 6.5.x package we have in
    experimental currently
  * Bump build-depends version of x11proto-gl-dev to 1.4.7 or greater

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 00:57:31 +0000

xorg-server (1:1.1.1-2) experimental; urgency=low

  [ Drew Parsons ]
  * Updated mesa-swx11-source build-depends to (>> 6.5.0), required
    for xserver 1.1.1. (closes: #383334)

  [ David Nusinow ]
  * Enable and ship xephyr
  * Hack off the 'x' manpage suffix
  * Install Xnest manpage
  * Bump policy version to 3.7.2.0. No changes necessary.

 -- David Nusinow <dnusinow@debian.org>  Wed, 16 Aug 2006 21:14:44 +0000

xorg-server (1:1.1.1-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream release
  * Move patch target call so that we don't try and build twice
  * Remove obsolete 15_security_allocate_local.diff and
    16_SECURITY_setuid.diff
  * Add 15_symlink_mesa.diff

 -- David Nusinow <dnusinow@debian.org>  Sun,  6 Aug 2006 16:12:25 +0000

xorg-server (2:1.0.2-10) unstable; urgency=low

  * Upload to unstable to fixed messed up last upload which was supposed to go
    to experimental. Brown bag o' joy.

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 19:31:08 +0000

xorg-server (1:1.0.2-9) UNRELEASED; urgency=high

  [ Denis Barbier ]
  * Fix 13_debian_add_xkbpath_env_variable.diff, XKBPATH environment
    variable was not always taken into account.

  [ David Nusinow ]
  * Remove two Ubuntu packaging holdovers. Have xvfb recommend xbase-clients
    rather than xauth, and have xserver-xorg-core recommend xkb-data rather
    than xkeyboard-config. Thanks Sterling MacNay.
  * Security update. Fix for setuid privledge escalation vulernabilities.
    See http://lists.freedesktop.org/archives/xorg/2006-June/016146.html for
    the full advisory.

  [ Jurij Smakov ]
  * Stop including the non-existent asm/kbio.h header file in
    hw/xfree86/os-support/linux/lnx_{io,kbd}.c to avoid the build failure
    on sparc.

 -- David Nusinow <dnusinow@debian.org>  Sat,  1 Jul 2006 17:20:45 -0400

xorg-server (1:1.0.2-8) unstable; urgency=low

  * Move xserverrc back to xbase-clients. Thanks Benjamin Mesing.
  * Add 15_security_allocate_local.diff. This fixes Bug fd.o bug #6642.
    Fix buffer overflow in Render.  (CVE 2006-1526). Patch by Eric Anholt.

 -- David Nusinow <dnusinow@debian.org>  Tue,  2 May 2006 21:47:17 -0400

xorg-server (1:1.0.2-7) unstable; urgency=low

  * Ship xserverrc again in /etc/X11/xinit. Thanks Bastian Kleineidam and
    Vasilis Vasaitis. (closes: #357713)

 -- David Nusinow <dnusinow@debian.org>  Wed, 26 Apr 2006 00:01:16 -0400

xorg-server (1:1.0.2-6) unstable; urgency=low

  [ David Nusinow ]
  * Use -DNO_INLINE on s390. Thanks Bastian Blank and Julien Cristau.
    (closes: #362641)
  * Re-add xvfb-run and manpage to xvfb package. Thanks Josselin Mouette and
    Jamie Wilkinson. (closes: #363494)
  * Add 014_debian_always_look_in_our_module_path.diff. This will cause the
    server to always look in the default module path even if they've specified
    an alternate path in their xorg.conf file via the ModulePath option. A
    note to users: you should remove this part of your xorg.conf unless you
    need it, as the server will look in the right place for modules if you
    don't specify a location.
  * Run dh_install with --list-missing
  * Add missing manpages all around. Thanks Roland Mas and Jan Hudec.
    (closes: #362489, #364199)
  * Actually install apps to xdmx-tools. Thanks Xavier Bestel.
    (closes: #356813)

  [ Denis Barbier ]
  * Add 13_debian_add_xkbpath_env_variable.diff so that the server takes
    the XKBPATH environment variable into account. (closes: #363229)

 -- David Nusinow <dnusinow@debian.org>  Sat, 22 Apr 2006 17:06:23 -0400

xorg-server (1:1.0.2-5) unstable; urgency=low

  * Add 11_debian_always_use_default_font_path.diff from Eugene Konev. This
    patch causes the server to add the default font path to whatever the user
    has specified. Right now, that's /usr/share/fonts/X11, as defined on
    configure in debian/rules. Thanks Eugene, this will definitely go a long
    way.
  * Document how to get rid of error loading glcore (and other modules) in
    NEWS.Debian. Thanks Matej Vela and others.
  * Provide the virtual 'xserver' package. Thanks Steve Langasek and Daniel
    Stone. (closes: #362750)
  * Add 12_security_policy_in_etc.diff from Eugene Konev. This will allow us
    to tell the server on configure to look in /etc/X11/xserver for the
    SecurityPolicy file. Thanks Joey Hess and Eugene. (closes: #362246)

 -- David Nusinow <dnusinow@debian.org>  Mon, 17 Apr 2006 00:34:08 -0400

xorg-server (1:1.0.2-4) unstable; urgency=low

  * Document the need to update paths in xserver-xorg-core's NEWS file.
    (closes: #362077, #362244, #362431)
  * Make xserver-xorg-core Architecture: any. (closes: #362150)
  * Build with --with-fontdir=/usr/share/fonts/X11. Remove
    --with-default-font-path option to make this work. Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 13 Apr 2006 23:54:06 -0400

xorg-server (1:1.0.2-3) unstable; urgency=low

  * Add build-conflicts on xlibs-static-dev. Thanks Zephaniah E. Hull.

 -- David Nusinow <dnusinow@debian.org>  Tue, 11 Apr 2006 18:44:51 -0400

xorg-server (1:1.0.2-2) unstable; urgency=low

  * Upload to unstable
  * Add versioned build-dep on libdmx-dev. Thanks Frank Lichtenheld.
    (closes: #361752)

 -- David Nusinow <dnusinow@debian.org>  Mon, 10 Apr 2006 19:34:04 -0400

xorg-server (1:1.0.2-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream release. Fixes CVE-2006-0745

  [ Denis Barbier ]
  * Set XKB base path to /usr/share/X11/xkb.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Mar 2006 21:41:04 -0500

xorg-server (1:1.0.1-2) experimental; urgency=low

  [ David Nusinow ]
  * Add versioned dependency on x11-common
  * Remove old cruft in our patches directory
  * Port patches from trunk
    + 030_libvgahw_gcc4_volatile_fix.diff
    + general/026_xc_programs_manpage_overhaul.diff
    + arm/303_arm_cache_flush.diff
    + arm/315_arm_is_not_x86_and_has_no_vga.diff
    + general/099e_xorgconf_manpage_overhaul.diff
    + s390/500_s390_support.diff
    + debian/910_debian_Xserver_RTFF.diff
  * add 04_read_rom_in_chunks.diff. This reads PCI ROM in large chunks rather
    than one byte at a time. This patch by Alex Williamson and forwarded to us
    by Dann Frazier. Thanks to both of them. (closes: #353168)
  * Don't build xserver-xorg-core on s390. This means putting all the other
    arches as being explicitly listed. Damn !s390.
  * Version the conflict with xserver-xfree86 to allow for the transition
    package to be installed
  * Remove README.DRI, as it is non-free. Add it to prune list.
  * Add 10_dont_look_in_home_for_config.diff to prevent looking in a user's
    home directory for xorg.conf. Thanks Daniel Stone for the patch.

 -- David Nusinow <dnusinow@debian.org>  Sun, 12 Mar 2006 16:18:13 -0500

xorg-server (1:1.0.1-1) experimental; urgency=low

  * First upload to Debian
  * Add bison and flex to the build-depends
  * Define INSTALL in debian/rules
  * Add xserver-xorg-core dependency xserver-xorg-video-all |
    xserver-xorg-video. The former is a metapackage that depends on all the
    video drivers we ship and the latter is a virtual package that each video
    driver provides. This scheme will install the metapackage by default but
    will permit any single video driver to satsify the dependency. Do the same
    thing for the input drivers.
  * switch dpatch build-dependency to quilt
  * Deal with mesa packaging rename: build-dep on mesa-swrast-source ->
    mesa-swx11-source
  * Change xserver-core depends to be on x11-common rather than xorg-common
  * Have xserver-xorg-dev install the files in /usr/share/aclocal so we get
    xorg-server.m4
  * Manually set permissions on serverabiver installation
  * Set the default font path to /usr/share/fonts/X11 instead of
    /usr/share/X11/fonts. Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Feb 2006 00:18:45 -0500

xorg-server (1:0.99.2+cvs.20051025-3) dapper; urgency=low

  * Version mesa-swrast-source Build-Dep to 6.4.0 or higher, so GLcore is a
    little less crash-happy (e.g. when moving your glxgears window).
  * Export /usr/share/xserver-xorg/serverabiver to xserver-xorg-dev, which
    describes the relationship needed from a driver on xserver-xorg-core.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 28 Oct 2005 13:00:26 +1000

xorg-server (1:0.99.2+cvs.20051025-2) dapper; urgency=low

  * Add Build-Deps on libxaw7-dev, libxmu-dev, libxt-dev, libxpm-dev,
    libx11-dev, libxtst-dev, and libxres-dev for DMX utils.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 26 Oct 2005 14:34:40 +1000

xorg-server (1:0.99.2+cvs.20051025-1) dapper; urgency=low

  * Update to new upstream version.
  * All applicable patches have been committed upstream, bar #989 and #990.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 20 Oct 2005 10:26:33 +1000

xorg-server (1:0.99.0+cvs.20050901-1) breezy; urgency=low

  * First xorg-server release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  6 Jul 2005 15:48:17 +1000
