xorg-server (2:1.3.0.0.dfsg-5) unstable; urgency=low

  [ Brice Goglin ]
  * Add 24_hurd_ioperm_fix.diff to fix xf86Enable/DisableIO on Hurd with
    recent GNU Mach. Thanks Samuel Thibault!
  * Add 06_use_proc_instead_of_sysfs_for_pci_domains.diff since sysfs-based
    PCI management code is broken at least on sparc and powerpc.
    Closes: #422077, #422095. Thanks to Jim Watson for testing!
  * Install the Xephyr README, closes: #395888.
  * Update 07_xorgconf_manpage_overhaul.diff to drop the reference to the
    xorg.conf example which we do not install since Xserver 1.3 does automatic
    configuration, the manpage is very well documented, and we generate a
    config file during installation. Closes: #222932.
  * Fix warning in /etc/init.d/xprint when /usr/lib/X11/fonts does not exist.
    Closes: #422352. Thanks Cristian Ionescu-Idbohrn!
  * Pull upstream commit 9c80eda826448822328bb678a7d284cc43fffb17 to disable
    RandR's fake xinerama geometry when there's more than one protocol screen
    (closes: #420679).

  [ Julien Cristau ]
  * Add patch to make sure that the ramdac symbols are present in the server
    and drivers can use them (closes: #423129).
  * xserver-xorg-core Conflicts with fglrx-driver, which broke with 1.3.
    We'll need to make this versioned (or drop it) when fglrx is fixed.

 -- Julien Cristau <jcristau@debian.org>  Wed, 16 May 2007 15:17:55 +0200

xorg-server (2:1.3.0.0.dfsg-4) unstable; urgency=low

  * Cherry-pick patch from upstream git to fix security issue in the Xrender
    extension: malicious clients can cause a division by zero in the server
    (closes: #422936). Reference: CVE-2007-2437. Thanks, Micah Anderson!

 -- Julien Cristau <jcristau@debian.org>  Wed, 09 May 2007 02:11:08 +0200

xorg-server (2:1.3.0.0.dfsg-3) unstable; urgency=low

  * Include 94_use_default_font_path.diff. This patch is like Eugene's patch
    to always look in the default font path from the past, but now we provide
    an option to disable looking in the default font path at runtime. This
    will allow people to specify additional font paths in their xorg.conf
    without losing their current paths. This will also help avoid people
    having ye olde "fixed font" problem.
  * Fix compilation warnings for 05_module_defaults.diff. Previously the patch
    used a generic pointer for the options record, but now we use the actual
    XF86OptionsPtr type.

 -- David Nusinow <dnusinow@debian.org>  Thu, 26 Apr 2007 22:39:52 -0400

xorg-server (2:1.3.0.0.dfsg-2) unstable; urgency=low

  * Add Brice Goglin's fix for 05_module_defaults.diff, so that it also works
    when there is no module section at all. Thanks to Michel Dänzer for
    helping also.

 -- David Nusinow <dnusinow@debian.org>  Sat, 21 Apr 2007 09:34:12 -0400

xorg-server (2:1.3.0.0.dfsg-1) unstable; urgency=low

  * Upload to unstable.
  * Add XS-Vcs-* to debian/control.
  * Remove non-free file hw/xfree86/doc/README.DRI from the upstream tarball.
  * Bump serverminver to 2:1.3.0.0.

 -- Julien Cristau <jcristau@debian.org>  Fri, 20 Apr 2007 07:54:14 +0200

xorg-server (2:1.3.0.0-1) experimental; urgency=low

  * New upstream release

 -- David Nusinow <dnusinow@debian.org>  Thu, 19 Apr 2007 22:27:05 -0400

xorg-server (2:1.2.99.905-3) experimental; urgency=low

  [ Julien Cristau ]
  * xvfb now Recommends: xfonts-base (closes: #314598).

  [ David Nusinow ]
  * Add 05_module_defaults.diff. This provides default modules loading
    capabilities for the server that may be overrided easily. Previously the
    server would load a set of default modules, but only if none were
    specified in the xorg.conf, or if you didn't have a xorg.conf at all. This
    patch provides a default set and you can add only the "Load" instructions
    to xorg.conf that you want without losing the defaults. Similarly, if you
    don't want to load a module that's loaded by default, you can add
    "Disable modulename" to your xorg.conf (see man xorg.conf in this release
    for details). See upstream bug #10541 for more.

 -- David Nusinow <dnusinow@debian.org>  Sun, 15 Apr 2007 11:17:45 -0400

xorg-server (2:1.2.99.905-2) experimental; urgency=low

  * Install the cvt and gtf utilities and their manpages (closes: #414792).
  * Build the xserver-xorg-core-dbg package, which contains debugging symbols
    for Xorg and /usr/lib/xorg/modules/**/*.so

 -- Julien Cristau <jcristau@debian.org>  Mon, 09 Apr 2007 20:38:22 +0200

xorg-server (2:1.2.99.905-1) experimental; urgency=low

  * New upstream release candidate.
    + includes fix for CVE-2007-1003: XC-MISC Extension ProcXCMiscGetXIDList()
      Memory Corruption.

 -- Julien Cristau <jcristau@debian.org>  Fri, 06 Apr 2007 12:05:40 +0200

xorg-server (2:1.2.99.903-1) experimental; urgency=low

  [ Drew Parsons ]
  * Add exclude entries to dh_install in debian/rules.

  [ Julien Cristau ]
  * Prepare packaging to ship debugging symbols for xserver-xorg-core in
    xserver-xorg-core-dbg, but leave it commented out so we can get rc3 in the
    archive first.
  * New upstream release candidate.
    + bump serverminver to 2:1.2.99.903.

 -- Julien Cristau <jcristau@debian.org>  Tue, 27 Mar 2007 07:33:29 +0200

xorg-server (2:1.2.99.902-1) experimental; urgency=low

  [ Drew Parsons ]
  * Bring xprint back into the xorg fold.
    - include existing patches:
      - 91_ttf2pt1 allows Xprint to use ttf2pt1 for Type1 font handling
      	(but extract and apply manually the patch to
       	hw/xprint/ps/Makefile.am so it may be applied by autoconf)
      - 91_ttf2pt1_updates brings ttf2pt1 into the modern X11R7.1 world
      - 92_xprint-security-holes-fix.patch places PS/PDF file output
      	into the user's home directory (~/Xprintjobs), more secure than
      	a shared /tmp/Xprintjobs
      - 93_spooltodir_check_file_exists ensures output filenames are
      	less than 256 characters in length
      - 93_xprint_fonts_fix released references to font names after use.
     - enable freetype support for Xprint.
     - add descriptions to debian/control and Build-Dependency on
       x11proto-print-dev
  * Run autoreconf to update changes to hw/xprint/ps/Makefile.am.

  [ Brice Goglin ]
  * Apply patch from adrian@smop.co.uk to our xvfb-run wrapper
    to check whether Xvfb started ok and fix its cleanup
    (closes: #351042).

  [ Julien Cristau ]
  * New upstream release candidate.
  * Bump serverminver to 2:1.2.99.902.
  * Drop patch 42_build_int10_submodules.diff, and use x86emu on all
    architectures instead (closes: #410879).
  * Refresh patches:
    + 12_security_policy_in_etc.diff
    + 21_glx_align_fixes.patch
    + 23_kfreebsd_support.diff
  * Delete a few files generated by configure on clean, since they seem to
    have been included in the tarball.

 -- Julien Cristau <jcristau@debian.org>  Thu, 15 Mar 2007 04:28:00 +0100

xorg-server (2:1.2.99.901-1) experimental; urgency=low

  * New upstream release candidate.
    + Remove patches 24 (hurd support), 35 (randr byteswap) and 43 (set damage
      version), applied upstream.
    + Bump build-dep on x11proto-randr-dev to >= 1.2, and on
      x11proto-damage-dev to >= 1.1.

 -- Julien Cristau <jcristau@debian.org>  Wed,  7 Mar 2007 19:58:53 +0100

xorg-server (2:1.2.0-6) experimental; urgency=low

  * Set videoabiver to 1.0, same as in xorg-server 1.1.

 -- Julien Cristau <jcristau@debian.org>  Fri,  2 Mar 2007 16:38:12 +0100

xorg-server (2:1.2.0-5) experimental; urgency=low

  * Add input ABI versioning metadata. Rename serverabiver file to
    videoabiver, and add inputabiver. Bump serverminver to 2:1.2.0-5 to deal
    with this change.

 -- David Nusinow <dnusinow@debian.org>  Thu,  1 Mar 2007 22:09:45 -0500

xorg-server (2:1.2.0-4) experimental; urgency=low

  [ Julien Cristau ]
  * Don't strip modules when DEB_BUILD_OPTIONS contains nostrip.  Thanks,
    Cyril Brulebois!

  [ David Nusinow ]
  * Move serverabiver file to serverminver. Use serverabiver to store the
    actual video ABI version number (1.1 right now). This will allow drivers
    to automatically generate their Provides: xserver-xorg-video-* line when
    built against a particular server version. The rename of the files
    is to better denote what they actually are.
  * Bump the serverminver to 2:1.2.0-4 because of this change

 -- David Nusinow <dnusinow@debian.org>  Wed, 21 Feb 2007 21:53:51 -0500

xorg-server (2:1.2.0-3) experimental; urgency=low

  [ Julien Cristau ]
  * Pass --with-os-name and --with-os-vendor to configure.
  * Bump serverabiver to 2:1.2.0-1.
  * Add patch from upstream git to set the supported damage version from the
    server, instead of from the damage headers.  xserver 1.2.0 supports damage
    1.0, not 1.1.

 -- Julien Cristau <jcristau@debian.org>  Sat, 17 Feb 2007 12:03:03 +0100

xorg-server (2:1.2.0-2) experimental; urgency=low

  * Delete useless debian/substvars.
  * Change my email address in debian/control.
  * Fix patch 42_build_int10_submodules.diff.  The definition of
    xf86InitInt10() was moved to int10/helper_exec.c between 1.1.1 and 1.2.0,
    so we move it to int10/helper_mem.c, which we build in the main int10
    module, not the vm86 and x86emu submodules.  Thanks to Cédric Augonnet and
    Brice Goglin for the report and testing.

 -- Julien Cristau <jcristau@debian.org>  Sat, 10 Feb 2007 20:57:57 +0100

xorg-server (2:1.2.0-1) experimental; urgency=low

  * New upstream release.
    + 40_xorg-xserver-1.1.0-dbe-render.diff dropped.
    + 38_GetDrawableAttributes.patch dropped.
    + 37_build-mesa-mipmap.patch dropped.
    + 33_Xserver_man_typos.patch dropped.
    + 24_hurd_support.diff massively reduced.
    + 13_debian_add_xkbpath_env_variable.diff refreshed.
    + 07_xorgconf_manpage_overhaul.diff updated.
    + 42_build_int10_submodules.diff updated.
  * Bump build-dep on mesa-swx11-source to >= 6.5.2.
  * Version build-dependencies on x11proto-composite-dev and x11proto-kb-dev
    to match configure.ac.
  * Add build-dep on libxfixes-dev (needed for Xdmx).

 -- Julien Cristau <jcristau@debian.org>  Fri,  9 Feb 2007 20:54:27 +0100

xorg-server (2:1.1.99.903-1) experimental; urgency=low

  * New upstream release candidate.
  * Forward-port patches:
    * 07_xorgconf_manpage_overhaul.diff: refresh
    * 12_security_policy_in_etc.diff: refresh
    * 21_glx_align_fixes.patch: refresh
    * 23_kfreebsd_support.diff: refresh
    * 24_hurd_support.diff: refresh
    * 34_xorg.conf_man_typos.patch: refresh
    * 36_fix_ffs.patch: remove, applied upstream
  * Bump build-dependency on libdrm-dev to (>= 2.3.0) because that is the X
    server's minimum requirement.

 -- Thierry Reding <thierry@gilfi.de>  Sat,  2 Dec 2006 12:44:59 +0100

xorg-server (2:1.1.99.902-1) experimental; urgency=low

  * Update to latest upstream release candidate.
  * Forward-port patches:
    * 02_libvgahw_gcc4_volatile_fix.diff: update
    * 04_read_rom_in_chunks.diff: update
    * 05_arm_cache_flush.diff: remove, applied upstream
    * 06_arm_is_not_x86_and_has_no_vga.diff: remove, applied upstream
    * 07_xorgconf_manpage_overhaul.diff: update
    * 08_s390_servermd.diff: update
    * 09_debian_xserver_rtff.diff: update
    * 12_security_policy_in_etc.diff: update
    * 13_debian_add_xkbpath_env_variable.diff: update
    * 15_symlink_mesa.diff: remove, fixed upstream
    * 16_s390_fix.diff: update
    * 17_ignoreabi.diff: remove, applied upstream
    * 18_execinfo_only_for_backtrace.patch: remove, applied upstream
    * 18_execinfo_configured.patch: remove, applied upstream
    * 19_configurable_misc_utils.patch: remove, applied upstream
    * 20_mesa_6.5.1.diff: remove, applied upstream
    * 21_glx_align_fixes.patch: update
    * 22_xkb_cycle_3layouts.diff: remove, applied upstream
    * 23_kfreebsd_support.diff: update, partially applied upstream
    * 24_hurd_support.diff: update, partially applied upstream
    * 25_tfp_damage.diff: remove, applied upstream
    * 26_aiglx_happy_vt_switch.diff: remove, applied upstream
    * 27_aiglx_locking.diff: remove, applied upstream
    * 28_mesa_copy_sub_buffer.diff: remove, applied upstream
    * 29_mesa_reseed_makefile.diff: remove, fixed upstream
    * 30_fix_vmode_switch.diff: remove, fixed upstream
    * 31_blocksigio.diff: remove, fixed upstream
    * 32_disable_sparc_pci_bridge.diff: update
    * 34_xorg.conf_man_typos.patch: update
    * 35_randr_byteswap.patch: update
    * 36_fix_ffs.patch: update
    * 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms.diff:
      remove, applied upstream
  * Upstream no longer ships a changelog, so don't try to install it.
  * Add 37_build-mesa-mipmap.patch that adds the missing mipmap.c to libmain's
    sources.
  * Add 38_GetDrawableAttributes.patch which readds support for the
    GetDrawableAttributes extension that's needed for compiz to work properly.

 -- Thierry Reding <thierry@gilfi.de>  Fri,  1 Dec 2006 20:32:34 +0100

xorg-server (2:1.1.1-21) unstable; urgency=emergency

  * Security update.
  * Fix integer overflow in the ProcXCMiscGetXIDList() function in the XC-MISC
    extension.  Reference: CVE-2007-1003.

 -- Julien Cristau <jcristau@debian.org>  Wed, 04 Apr 2007 00:34:51 +0200

xorg-server (2:1.1.1-20) unstable; urgency=low

  * xephyr: Add patch from upstream git to fix memory leak in
    ephyrScreenFini().  Thanks, Guillem Jover!

 -- Julien Cristau <jcristau@debian.org>  Tue,  6 Mar 2007 22:20:14 +0100

xorg-server (2:1.1.1-19) unstable; urgency=high

  [ Drew Parsons ]
  * Removed spurious space in default font line
    (/usr/X11R6/lib/X11/fonts/Type1 not "/usr/X11R6/lib/  X11/fonts/Type1")

  [ David Nusinow ]
  * Conflict with and replace xserver-common, because that package used to 
    provide the SecurityPolicy file. This is an RC bugfix because it breaks
    upgrades, so it gets a high urgency. Thanks Christian Tsotras and Lionel
    Elie Mamane for reporting and it. Closes: #402658

 -- David Nusinow <dnusinow@debian.org>  Wed, 28 Feb 2007 21:48:19 -0500

xorg-server (2:1.1.1-18) unstable; urgency=medium

  * Add patch from Fedora to make xephyr work on 64bit architectures
    (closes: #405928).

 -- Julien Cristau <jcristau@debian.org>  Fri, 16 Feb 2007 22:20:08 +0100

xorg-server (2:1.1.1-17) unstable; urgency=medium

  * Make the int10 module usable on i386 with a 64bit kernel (closes: #409730).
    + New patch 42_build_int10_submodules.diff, which allows us to build vm86
      and x86emu as two separate submodules, and make the int10 module itself
      fall back to loading x86emu if vm86 calls fail.
    + Add workaround for https://bugs.freedesktop.org/show_bug.cgi?id=7299 to
      the above patch: move definition of Int10Current from int10/xf86int10.c
      to int10/helper_mem.c.
    + Drop the part of 39_alpha_build_flags.patch applying to
      hw/xfree86/os-support/linux/Makefile.in, and run autoreconf with all
      patches applied.

 -- Julien Cristau <jcristau@debian.org>  Wed,  7 Feb 2007 20:37:19 +0100

xorg-server (2:1.1.1-16) unstable; urgency=medium

  * New patch 41_xfree86_linux_acpi_fix_tokenizing.diff from upstream git to
    fix a crash on acpi events (closes: #409443).

 -- Julien Cristau <julien.cristau@ens-lyon.org>  Sat,  3 Feb 2007 22:56:04 +0100

xorg-server (2:1.1.1-15) unstable; urgency=high

  * High-urgency upload for security bugfix.
  * New patch 40_xorg-xserver-1.1.0-dbe-render.diff to fix multiple integer
    overflows in the dbe and render extensions.
    CVE IDs: CVE-2006-6101 CVE-2006-6102 CVE-2006-6103
  * Add myself to Uploaders, and remove Fabio and Branden, with their
    permission.  They're of course welcome back when they have more time!

 -- Julien Cristau <julien.cristau@ens-lyon.org>  Tue,  9 Jan 2007 15:45:46 +0100

xorg-server (2:1.1.1-14) unstable; urgency=high

  * The "let's drop 20 years of build logic and replace it with autoconf in a
    single release, trust me, what could go wrong? <gibber, gibber>" release
  * High-urgency upload for RC bugfix
  * New patch 39_alpha_build_flags.patch: no really, when they said
    lnx_ev56.c should be built with -mcpu=ev56, they really meant it.
    Closes: #392500.

 -- Steve Langasek <vorlon@debian.org>  Sun,  7 Jan 2007 15:19:08 -0800

xorg-server (2:1.1.1-13) unstable; urgency=medium

  [ Julien Cristau ]
  * xserver-xorg-core recommends xfonts-base and suggests xfonts-100dpi |
    xfonts-75dpi and xfonts-scalable.  Also add explanation about fonts to the
    long description, stolen from the old xserver-common package (closes:
    #400654).

  [ David Nusinow ]
  * This is important for upgrades to etch, and has no notable risk, so bump
    priority to medium.

 -- David Nusinow <dnusinow@debian.org>  Fri, 29 Dec 2006 19:57:51 -0500

xorg-server (2:1.1.1-12) unstable; urgency=low

  [ Julien Cristau ]
  * Delete hw/xfree86/common/xf86Build.h in debian/rules clean, since it's
    wrongly included in the upstream tarball.

  [ David Nusinow ]
  * Pull fix for the ignore_abi.diff patch. This one's a major brown bag on my
    part. Thanks Michel Dänzer.
  * Add 38_wait_for_something_force_timer_reset.diff which forces the server
    to reset timers when they've overrun in some cases rather than wait
    forever. Patch by Daniel Stone. Thanks Michel Dänzer for pointing the
    changes out. Closes: #374026

 -- David Nusinow <dnusinow@debian.org>  Tue, 12 Dec 2006 21:13:20 -0500

xorg-server (2:1.1.1-11) unstable; urgency=low

  [ Drew Parsons ]
  * Patches 33_Xserver_man_typos.patch and 34_xorg.conf_man_typos.patch
    fix minor typos in Xserver and xorg.conf man pages.
    Closes: #364556, #308899.
  * Add patch 35_randr_byteswap.patch from upstream. Fixes a client/server
    byteswapping problem. Closes: #291100.

  [ Julien Cristau ]
  * Don't build-depend on libdrm-dev on hurd-i386 (closes: #358015). Thanks,
    Samuel Thibault.
  * Update hurd support patch (closes: #356300). Thanks, Samuel Thibault.
  * Add reportbug script stolen from the monolith, to add the user's config
    and log file in every bug report.
  * Delete hw/xfree86/common/xf86Build.h from our source tree, so that the
    build date is correctly calculated at build time, and not hardcoded to
    07 July 2006.  Thanks to Jurij Smakov for noticing.
  * Add patch 36_fix_ffs.patch by Jurij Smakov to fix infinite loop in ffs()
    if called with an argument of 0 (closes: #395564).
  * Add patch 37_Fix-__glXDRIbindTexImage-for-32-bpp-on-big-endian-platforms
    from upstream git to fix color issue on big endian platforms
    (closes: #392453). Thanks to Michel Dänzer for the patch!
  * Fix typo in xvfb-run (closes: #337703).
  * Install xdmxconfig and its manpage in xdmx-tools (closes: #393991).
  * Add Replaces: xdmx (<= 2:1.1.1-10) to xdmx-tools because of the xmdxconfig
    manpage move.

 -- David Nusinow <dnusinow@debian.org>  Fri, 24 Nov 2006 15:44:52 -0500

xorg-server (2:1.1.1-10) unstable; urgency=low

  [ Denis Barbier ]
  * Fix video mode switching.  Closes: #391052
  * Fix FTBFS on kfreebsd-i386 and kfreebsd-amd64.  Thanks Petr Salinger.
    Closes: #363517

  [ David Nusinow ]
  * Add depends on xserver-xorg so that /etc/X11/X gets installed. Thanks
    Frans Pop. Closes: #392295
  * Add 31_blocksigio.diff. This patch by Alan Hourihane, and it prevents a
    race condition when a driver tries to set the cursor state when the server
    is in the middle of switching resolution. Thanks to Frans Pop for
    reporting the bug, Michel Dänzer for reading through the backtrace and
    diagnosing the problem, and Alan for the final patch. Closes: #390646.

  [ Jurij Smakov ]
  * Add 32_disable_sparc_pci_bridge.diff. Disable PCI bridge handling on
    sparc, which is broken and causes filesystem corruption (by poking
    the PCI bus in the wrong places) on some machines. Closes: #392312.

  [ Drew Parsons ]
  * Use __appmansuffix__ not __mansuffix__ in
    03_xnest_manpage_overhaul.diff.  Closes: #390599.
  * Install upstream ChangeLog.  Closes: #365274.

 -- David Nusinow <dnusinow@debian.org>  Mon, 16 Oct 2006 21:59:51 -0400

xorg-server (2:1.1.1-9) unstable; urgency=low

  [ Jurij Smakov ]
  * Add 21_glx_align_fixes.patch to reintroduce the setting of __GLX_ALIGN64
    variable, lost during the modular transition. This setting is essential
    for architectures with strong alignment requirements. Patch affects
    alpha, sparc, amd64, ia64 and s390, mimicking the behaviour of the
    monolithic build. Closes: #388125.

  [ Denis Barbier ]
  * Add 22_xkb_cycle_3layouts.diff to fix layout switching when 3 layouts
    are present.  Thanks Ivan Pascal for the patch.  Closes: #345803

  [ David Nusinow ]
  * Add kFreeBSD support patch (23). Thanks to Robert Millan, Petr Salinger,
    Daniel Stone, and Michael Banck for input and patch writing.
    Closes: #363517
  * Add hurd support patch (24). Thanks Samuel Thibault, Daniel Stone, and
    Michael Banck. Closes: #356300
  * Disable the explicit enabling of dri in the configure. The configure
    script autodetects whether or not to use this anyway, and enabling it
    explicitly breaks the build on hurd. Thanks Samuel Thibault and Michael
    Banck. Closes: #358015
  * Add several patches written by Kristian Høgsberg for allowing compiz to
    work with AIGLX. These patches were vetted by Theirry Reding with valuable
    advice from Michel Dänzer, and feedback from Kristian himself.
    - 25_tfp_damage.diff
    - 26_aiglx_happy_vt_switch.diff
    - 27_aiglx_locking.diff
    - 28_mesa_copy_sub_buffer.diff
    - 29_mesa_reseed_makefile.diff
    - update of 20_mesa_6.5.1.diff
  * Remove bizarre wholesale inclusion of another patch in the 23_kbsd patch

  [ Eugene Konev ]
  * Use --with-default-font-path instead of --with-fontdir.
  * Set RGBPath through --with-rgb-path.
  * Drop 11_debian_always_use_default_font_path.diff.
  * Drop 14_debian_always_look_in_our_module_path.diff.
  * Ship SecurityPolicy in xserver-xorg-core.

 -- David Nusinow <dnusinow@debian.org>  Thu, 28 Sep 2006 23:59:35 -0400

xorg-server (2:1.1.1-8) unstable; urgency=low

  * Update mesa symlink patch to the latest from HEAD
  * Add 20_mesa_6.5.1.diff to allow the server to build with mesa 6.5.1
  * Bump build-dep versions on x11proto-gl to 1.4.8, and mesa to 6.5.1

 -- David Nusinow <dnusinow@debian.org>  Mon, 25 Sep 2006 22:21:37 -0400

xorg-server (2:1.1.1-7) unstable; urgency=low

  * Fix s390 build issue. Thanks Bastian Blank for the report and Eugene Konev
    for the patch. Closes: #388628.
  * Disable build of various utilities that we don't ship anyway. Patch thanks
    to Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 21 Sep 2006 23:07:16 -0400

xorg-server (2:1.1.1-6) unstable; urgency=low

  * Upload 7.1 to unstable.

  [ Drew Parsons ]
  * Added SGI FreeB licence to debian/copyright. Closes: #368563.
  * Apply upstream patches 18_execinfo_only_for_backtrace.patch, to use
    execinfo.h for and only for backtrace. Applied git patch
    5a3488ccac8e5dabd9fc98bc41ef178ead1b2faf directly into configure scripts,
    activated with autoreconf.  Closes: #363218.
  * Only requires build-depends version of x11proto-gl-dev on 1.4.6.

  [ Steve Langasek ]
  * Add versioned build-depends on x11proto-fixes-dev (>= 4.0), to
    ensure the package is built against the right protocol version.
    Closes: #383778.

 -- David Nusinow <dnusinow@debian.org>  Mon, 18 Sep 2006 18:30:07 -0400

xorg-server (2:1.1.1-5) experimental; urgency=low

  * Fix error in 16_s390_fix.diff caused by my idiot copying. Thanks Yannick
    Roehlly and Daniel Stone.

 -- David Nusinow <dnusinow@debian.org>  Sun, 27 Aug 2006 23:25:21 +0000

xorg-server (2:1.1.1-4) experimental; urgency=low

  [ Drew Parsons ]
  * Tighten dependencies between X11R7.1 server and video drivers.
    xserver-xorg-core no longer Depends: xserver-xorg-video-all
    | xserver-xorg-video but instead Conflicts: xserver-xorg-video.
    (closes: #383873)
    The dependency on xserver-xorg-video-all | xserver-xorg-video-1.0 is
    managed by the xserver-xorg binary package (not included here in
    order to avoid circular dependencies). (closes: #362313)
  * Likewise remove Depends: xserver-xorg-input-all | xserver-xorg-input
    (again, handled by xserver-xorg) to avoid circular dependency with drivers.

  [ David Nusinow ]
  * Epoch bump
  * Add 17_ignoreabi.diff to allow users to simply set a value in xorg.conf
    rather than pass -ignoreABI to the server every time it starts

 -- David Nusinow <dnusinow@debian.org>  Wed, 23 Aug 2006 22:03:06 +0000

xorg-server (1:1.1.1-3) unstable; urgency=low

  * Add 16_s390_fix.diff to fix FTBFS on s390. Thanks Bastian Blank.
    (closes: #362641)
  * Bump build-depends version of libgl1-mesa-dev to 6.5.x package we have in
    experimental currently
  * Bump build-depends version of x11proto-gl-dev to 1.4.7 or greater

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 00:57:31 +0000

xorg-server (1:1.1.1-2) experimental; urgency=low

  [ Drew Parsons ]
  * Updated mesa-swx11-source build-depends to (>> 6.5.0), required
    for xserver 1.1.1. (closes: #383334)

  [ David Nusinow ]
  * Enable and ship xephyr
  * Hack off the 'x' manpage suffix
  * Install Xnest manpage
  * Bump policy version to 3.7.2.0. No changes necessary.

 -- David Nusinow <dnusinow@debian.org>  Wed, 16 Aug 2006 21:14:44 +0000

xorg-server (1:1.1.1-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream release
  * Move patch target call so that we don't try and build twice
  * Remove obsolete 15_security_allocate_local.diff and
    16_SECURITY_setuid.diff
  * Add 15_symlink_mesa.diff

 -- David Nusinow <dnusinow@debian.org>  Sun,  6 Aug 2006 16:12:25 +0000

xorg-server (2:1.0.2-10) unstable; urgency=low

  * Upload to unstable to fixed messed up last upload which was supposed to go
    to experimental. Brown bag o' joy.

 -- David Nusinow <dnusinow@debian.org>  Tue, 22 Aug 2006 19:31:08 +0000

xorg-server (1:1.0.2-9) UNRELEASED; urgency=high

  [ Denis Barbier ]
  * Fix 13_debian_add_xkbpath_env_variable.diff, XKBPATH environment
    variable was not always taken into account.

  [ David Nusinow ]
  * Remove two Ubuntu packaging holdovers. Have xvfb recommend xbase-clients
    rather than xauth, and have xserver-xorg-core recommend xkb-data rather
    than xkeyboard-config. Thanks Sterling MacNay.
  * Security update. Fix for setuid privledge escalation vulernabilities.
    See http://lists.freedesktop.org/archives/xorg/2006-June/016146.html for
    the full advisory.

  [ Jurij Smakov ]
  * Stop including the non-existent asm/kbio.h header file in
    hw/xfree86/os-support/linux/lnx_{io,kbd}.c to avoid the build failure
    on sparc.

 -- David Nusinow <dnusinow@debian.org>  Sat,  1 Jul 2006 17:20:45 -0400

xorg-server (1:1.0.2-8) unstable; urgency=low

  * Move xserverrc back to xbase-clients. Thanks Benjamin Mesing.
  * Add 15_security_allocate_local.diff. This fixes Bug fd.o bug #6642.
    Fix buffer overflow in Render.  (CVE 2006-1526). Patch by Eric Anholt.

 -- David Nusinow <dnusinow@debian.org>  Tue,  2 May 2006 21:47:17 -0400

xorg-server (1:1.0.2-7) unstable; urgency=low

  * Ship xserverrc again in /etc/X11/xinit. Thanks Bastian Kleineidam and
    Vasilis Vasaitis. (closes: #357713)

 -- David Nusinow <dnusinow@debian.org>  Wed, 26 Apr 2006 00:01:16 -0400

xorg-server (1:1.0.2-6) unstable; urgency=low

  [ David Nusinow ]
  * Use -DNO_INLINE on s390. Thanks Bastian Blank and Julien Cristau.
    (closes: #362641)
  * Re-add xvfb-run and manpage to xvfb package. Thanks Josselin Mouette and
    Jamie Wilkinson. (closes: #363494)
  * Add 014_debian_always_look_in_our_module_path.diff. This will cause the
    server to always look in the default module path even if they've specified
    an alternate path in their xorg.conf file via the ModulePath option. A
    note to users: you should remove this part of your xorg.conf unless you
    need it, as the server will look in the right place for modules if you
    don't specify a location.
  * Run dh_install with --list-missing
  * Add missing manpages all around. Thanks Roland Mas and Jan Hudec.
    (closes: #362489, #364199)
  * Actually install apps to xdmx-tools. Thanks Xavier Bestel.
    (closes: #356813)

  [ Denis Barbier ]
  * Add 13_debian_add_xkbpath_env_variable.diff so that the server takes
    the XKBPATH environment variable into account. (closes: #363229)

 -- David Nusinow <dnusinow@debian.org>  Sat, 22 Apr 2006 17:06:23 -0400

xorg-server (1:1.0.2-5) unstable; urgency=low

  * Add 11_debian_always_use_default_font_path.diff from Eugene Konev. This
    patch causes the server to add the default font path to whatever the user
    has specified. Right now, that's /usr/share/fonts/X11, as defined on
    configure in debian/rules. Thanks Eugene, this will definitely go a long
    way.
  * Document how to get rid of error loading glcore (and other modules) in
    NEWS.Debian. Thanks Matej Vela and others.
  * Provide the virtual 'xserver' package. Thanks Steve Langasek and Daniel
    Stone. (closes: #362750)
  * Add 12_security_policy_in_etc.diff from Eugene Konev. This will allow us
    to tell the server on configure to look in /etc/X11/xserver for the
    SecurityPolicy file. Thanks Joey Hess and Eugene. (closes: #362246)

 -- David Nusinow <dnusinow@debian.org>  Mon, 17 Apr 2006 00:34:08 -0400

xorg-server (1:1.0.2-4) unstable; urgency=low

  * Document the need to update paths in xserver-xorg-core's NEWS file.
    (closes: #362077, #362244, #362431)
  * Make xserver-xorg-core Architecture: any. (closes: #362150)
  * Build with --with-fontdir=/usr/share/fonts/X11. Remove
    --with-default-font-path option to make this work. Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 13 Apr 2006 23:54:06 -0400

xorg-server (1:1.0.2-3) unstable; urgency=low

  * Add build-conflicts on xlibs-static-dev. Thanks Zephaniah E. Hull.

 -- David Nusinow <dnusinow@debian.org>  Tue, 11 Apr 2006 18:44:51 -0400

xorg-server (1:1.0.2-2) unstable; urgency=low

  * Upload to unstable
  * Add versioned build-dep on libdmx-dev. Thanks Frank Lichtenheld.
    (closes: #361752)

 -- David Nusinow <dnusinow@debian.org>  Mon, 10 Apr 2006 19:34:04 -0400

xorg-server (1:1.0.2-1) experimental; urgency=low

  [ David Nusinow ]
  * New upstream release. Fixes CVE-2006-0745

  [ Denis Barbier ]
  * Set XKB base path to /usr/share/X11/xkb.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Mar 2006 21:41:04 -0500

xorg-server (1:1.0.1-2) experimental; urgency=low

  [ David Nusinow ]
  * Add versioned dependency on x11-common
  * Remove old cruft in our patches directory
  * Port patches from trunk
    + 030_libvgahw_gcc4_volatile_fix.diff
    + general/026_xc_programs_manpage_overhaul.diff
    + arm/303_arm_cache_flush.diff
    + arm/315_arm_is_not_x86_and_has_no_vga.diff
    + general/099e_xorgconf_manpage_overhaul.diff
    + s390/500_s390_support.diff
    + debian/910_debian_Xserver_RTFF.diff
  * add 04_read_rom_in_chunks.diff. This reads PCI ROM in large chunks rather
    than one byte at a time. This patch by Alex Williamson and forwarded to us
    by Dann Frazier. Thanks to both of them. (closes: #353168)
  * Don't build xserver-xorg-core on s390. This means putting all the other
    arches as being explicitly listed. Damn !s390.
  * Version the conflict with xserver-xfree86 to allow for the transition
    package to be installed
  * Remove README.DRI, as it is non-free. Add it to prune list.
  * Add 10_dont_look_in_home_for_config.diff to prevent looking in a user's
    home directory for xorg.conf. Thanks Daniel Stone for the patch.

 -- David Nusinow <dnusinow@debian.org>  Sun, 12 Mar 2006 16:18:13 -0500

xorg-server (1:1.0.1-1) experimental; urgency=low

  * First upload to Debian
  * Add bison and flex to the build-depends
  * Define INSTALL in debian/rules
  * Add xserver-xorg-core dependency xserver-xorg-video-all |
    xserver-xorg-video. The former is a metapackage that depends on all the
    video drivers we ship and the latter is a virtual package that each video
    driver provides. This scheme will install the metapackage by default but
    will permit any single video driver to satsify the dependency. Do the same
    thing for the input drivers.
  * switch dpatch build-dependency to quilt
  * Deal with mesa packaging rename: build-dep on mesa-swrast-source ->
    mesa-swx11-source
  * Change xserver-core depends to be on x11-common rather than xorg-common
  * Have xserver-xorg-dev install the files in /usr/share/aclocal so we get
    xorg-server.m4
  * Manually set permissions on serverabiver installation
  * Set the default font path to /usr/share/fonts/X11 instead of
    /usr/share/X11/fonts. Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Feb 2006 00:18:45 -0500

xorg-server (1:0.99.2+cvs.20051025-3) dapper; urgency=low

  * Version mesa-swrast-source Build-Dep to 6.4.0 or higher, so GLcore is a
    little less crash-happy (e.g. when moving your glxgears window).
  * Export /usr/share/xserver-xorg/serverabiver to xserver-xorg-dev, which
    describes the relationship needed from a driver on xserver-xorg-core.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 28 Oct 2005 13:00:26 +1000

xorg-server (1:0.99.2+cvs.20051025-2) dapper; urgency=low

  * Add Build-Deps on libxaw7-dev, libxmu-dev, libxt-dev, libxpm-dev,
    libx11-dev, libxtst-dev, and libxres-dev for DMX utils.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 26 Oct 2005 14:34:40 +1000

xorg-server (1:0.99.2+cvs.20051025-1) dapper; urgency=low

  * Update to new upstream version.
  * All applicable patches have been committed upstream, bar #989 and #990.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 20 Oct 2005 10:26:33 +1000

xorg-server (1:0.99.0+cvs.20050901-1) breezy; urgency=low

  * First xorg-server release.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  6 Jul 2005 15:48:17 +1000
