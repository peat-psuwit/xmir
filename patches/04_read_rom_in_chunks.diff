Index: xorg-server/hw/xfree86/os-support/bus/linuxPci.c
===================================================================
--- xorg-server.orig/hw/xfree86/os-support/bus/linuxPci.c	2007-05-23 17:22:18.000000000 +0200
+++ xorg-server/hw/xfree86/os-support/bus/linuxPci.c	2007-05-23 17:28:22.000000000 +0200
@@ -788,8 +788,10 @@
 	write(fd, "1", 2);
 	lseek(fd, 0, SEEK_SET);
 
+    len = min(Len, st.st_size);
+
         /* copy the ROM until we hit Len, EOF or read error */
-        for (i = 0; i < Len && read(fd, Buf, 1) > 0; Buf++, i++)
+        for (; len && (size = read(fd, Buf, len)) > 0 ; Buf+=size, len-=size)
             ;
 
 	write(fd, "0", 2);
