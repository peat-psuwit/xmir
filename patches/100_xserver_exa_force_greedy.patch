Index: xorg-server/exa/exa.c
===================================================================
--- xorg-server.orig/exa/exa.c	2008-06-18 10:28:15.000000000 +0300
+++ xorg-server/exa/exa.c	2008-06-18 12:07:25.000000000 +0300
@@ -837,6 +837,11 @@
     dixSetPrivate(&pScreen->devPrivates, exaScreenPrivateKey, pExaScr);
 
     pExaScr->migration = ExaMigrationAlways;
+    if (pScreenInfo->flags & EXA_MIGRATION_GREEDY) {
+        pExaScr->migration = ExaMigrationGreedy;
+        LogMessage(X_INFO, "EXA(%d): Forcing greedy migration option\n",
+		   pScreen->myNum);
+    }
 
     exaDDXDriverInit(pScreen);
 
Index: xorg-server/exa/exa.h
===================================================================
--- xorg-server.orig/exa/exa.h	2008-06-18 10:28:16.000000000 +0300
+++ xorg-server/exa/exa.h	2008-06-18 12:07:25.000000000 +0300
@@ -735,6 +735,13 @@
 #define EXA_TWO_BITBLT_DIRECTIONS	(1 << 2)
 
 /**
+ * EXA_MIGRATION_GREEDY indicates to EXA that the driver prefers to
+ * use the "greedy" migration heuristic.  This is to work around
+ * issues with EXA on the Intel 965 chipset. (LP: #177492)
+ */
+#define EXA_MIGRATION_GREEDY            (1 << 3)
+
+/**
  * EXA_HANDLES_PIXMAPS indicates to EXA that the driver can handle
  * all pixmap addressing and migration.
  */
