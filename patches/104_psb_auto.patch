This patch adds autodetection support for the Poulsbo ("psb") driver
needed by moblin.org for the Intel mobile chipset.  Rather than add an
else if, I restructured things with a case statement to make it conform
in style to the savage driver section.

Bryce Harrington  23-Aug-2007

Index: xorg-server/hw/xfree86/common/xf86AutoConfig.c
===================================================================
--- xorg-server.orig/hw/xfree86/common/xf86AutoConfig.c	2008-06-18 10:28:16.000000000 +0300
+++ xorg-server/hw/xfree86/common/xf86AutoConfig.c	2008-06-18 12:06:33.000000000 +0300
@@ -158,9 +158,15 @@
 	case 0x102c:		    return "chips";
 	case 0x1013:		    return "cirrus";
 	case 0x8086:
-	    if ((dev->device_id == 0x00d1) || (dev->device_id == 0x7800))
-		return "i740";
-	    else return "intel";
+            switch (dev->device_id)
+            {
+                case 0x00d1: case 0x7800:
+                    return "i740";
+                case 0x8108:
+                    return "psb";
+                default:
+                    return "intel";
+            }
 	case 0x102b:		    return "mga";
 	case 0x10c8:		    return "neomagic";
 	case 0x105d:		    return "i128";
