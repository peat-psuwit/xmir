Index: xorg-server-1.0.2/ChangeLog
===================================================================
--- xorg-server-1.0.2.orig/ChangeLog	2006-05-02 21:42:35.000000000 -0400
+++ xorg-server-1.0.2/ChangeLog	2006-05-02 21:45:05.000000000 -0400
@@ -1,3 +1,9 @@
+2006-05-02  Adam Jackson  <ajax@freedesktop.org>
+  	 
+    * render/mitri.c:
+      Bug #6642: Fix buffer overflow in Render.
+      (CVE 2006-1526, patch from Eric Anholt)
+
 2006-03-20  Adam Jackson  <ajax@freedesktop.org>
 
 	* hw/xfree86/common/xf86Init.c:
Index: xorg-server-1.0.2/render/mitri.c
===================================================================
--- xorg-server-1.0.2.orig/render/mitri.c	2006-05-02 21:41:33.000000000 -0400
+++ xorg-server-1.0.2/render/mitri.c	2006-05-02 21:42:23.000000000 -0400
@@ -145,7 +145,7 @@
     if (npoint < 3)
 	return;
     ntri = npoint - 2;
-    tris = ALLOCATE_LOCAL (ntri & sizeof (xTriangle));
+    tris = ALLOCATE_LOCAL (ntri * sizeof (xTriangle));
     if (!tris)
 	return;
     for (tri = tris; npoint >= 3; npoint--, points++, tri++)
@@ -177,7 +177,7 @@
     if (npoint < 3)
 	return;
     ntri = npoint - 2;
-    tris = ALLOCATE_LOCAL (ntri & sizeof (xTriangle));
+    tris = ALLOCATE_LOCAL (ntri * sizeof (xTriangle));
     if (!tris)
 	return;
     first = points++;
