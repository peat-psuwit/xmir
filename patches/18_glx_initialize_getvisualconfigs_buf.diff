From: Guillaume Melquiond <guillaume.melquiond@gmail.com>
Subject: GLX: initialize the buffer in GetVisualConfigs

Backport from edad0a9dfebcce5c54b2f9c32bd9d45549e20c51.

http://bugs.freedesktop.org/show_bug.cgi?id=13358
http://bugs.freedesktop.org/show_bug.cgi?id=13863

Index: xorg-server/GL/glx/glxcmds.c
===================================================================
--- xorg-server.orig/GL/glx/glxcmds.c
+++ xorg-server/GL/glx/glxcmds.c
@@ -992,6 +992,10 @@
 	buf[p++] = GLX_TRANSPARENT_INDEX_VALUE;
 	buf[p++] = modes->transparentIndex;
 
+	while (p < __GLX_TOTAL_CONFIG) {
+		buf[p++] = 0;
+	}
+
 	if ( do_swap ) {
 	    __GLX_SWAP_INT_ARRAY(buf, __GLX_TOTAL_CONFIG);
 	}
