--- xorg-server-1.1.1/hw/kdrive/ephyr/hostx.c.jx	2006-07-05 14:31:39.000000000 -0400
+++ xorg-server-1.1.1/hw/kdrive/ephyr/hostx.c	2007-01-29 17:56:34.000000000 -0500
@@ -77,9 +77,10 @@
 
 static int            HostXWantDamageDebug = 0;
 
-extern KeySym         EphyrKeymap[];
+/* these two need to be 32-bits. do not say KeySym, that way lies madness */
+extern unsigned int   EphyrKeymap[];
+extern unsigned int   kdKeymap[];
 
-extern KeySym	      kdKeymap[];
 extern int	      kdMinScanCode;
 extern int	      kdMaxScanCode;
 extern int	      kdMinKeyCode;
@@ -668,7 +669,7 @@
 void
 hostx_load_keymap(void)
 {
-  KeySym          *keymap;
+  unsigned int	   *keymap;
   int              mapWidth, min_keycode, max_keycode;
   int              i,j;
 
